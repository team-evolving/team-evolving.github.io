<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRDæ–‡æ¡£æ™ºèƒ½è¯„å®¡æŠ¥å‘Šï¼ˆæ–°ç‰ˆï¼‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', 'Noto Sans SC', sans-serif; background-color: #f3f4f6; }
        
        /* Severity Colors */
        .severity-critical { --severity-color: 220 38 38; } /* Red */
        .severity-important { --severity-color: 249 115 22; } /* Orange */
        .severity-warning { --severity-color: 234 179 8; } /* Yellow */
        .severity-suggestion { --severity-color: 59 130 246; } /* Blue */
        .severity-pass { --severity-color: 34 197 94; } /* Green */

        .bg-severity { background-color: rgba(var(--severity-color), 0.1); }
        .text-severity { color: rgb(var(--severity-color)); }
        .border-severity { border-color: rgb(var(--severity-color)); }
        .ring-severity { ring-color: rgb(var(--severity-color)); }

        /* Tab Styling */
        .tab-btn {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .tab-btn.active {
            color: #111827;
            border-color: #2563eb;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Problem Item Styling */
        .problem-item summary {
            transition: background-color 0.2s ease;
            cursor: pointer;
        }
        .problem-item summary:hover {
            background-color: #f9fafb;
        }
        .problem-item summary::marker { content: ''; }
        .problem-item summary .arrow {
            transition: transform 0.3s ease;
        }
        .problem-item[open] > summary .arrow {
            transform: rotate(90deg);
        }
        .problem-item.highlight {
            transition: box-shadow 0.3s ease-in-out;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
            border-radius: 0.5rem; /* Ensure the glow follows the border radius */
        }
        
        #chapters-table-body tr {
            transition: background-color 0.5s ease;
        }


        @media print {
            body { background-color: white; }
            .no-print { display: none !important; }
            .print-show { display: block !important; }
            .tab-content { display: block !important; }
            .card, .problem-item {
                box-shadow: none;
                border: 1px solid #e5e7eb;
            }
            .page-break { page-break-before: always; }
            .problem-item {
                page-break-inside: avoid;
            }
            .problem-item[open] summary .arrow { display: none; }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900">PRDæ–‡æ¡£æ™ºèƒ½è¯„å®¡æŠ¥å‘Š</h1>
            <p class="text-md text-gray-500 mt-1">BSV ç‰¹æ€§éœ€æ±‚æ–‡æ¡£ V1.0.2</p>
        </header>

        <div class="bg-white rounded-xl shadow-lg">
            <!-- Main Summary -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex flex-wrap justify-between items-center gap-6">
                    <div class="flex items-center gap-4">
                        <div class="text-center">
                            <p class="text-sm text-gray-500">è¯„å®¡ç»“æœ</p>
                            <p class="text-2xl font-bold text-red-600">ä¸é€šè¿‡</p>
                        </div>
                        <div class="w-px h-12 bg-gray-200"></div>
                        <div class="text-center">
                            <p class="text-sm text-gray-500">ç»¼åˆè¯„åˆ†</p>
                            <p class="text-2xl font-bold">69<span class="text-base text-gray-500">/100</span></p>
                        </div>
                    </div>
                    <div class="flex-grow max-w-md">
                        <p class="text-sm font-medium text-gray-600 mb-1">é—®é¢˜åˆ†å¸ƒ (å…±10ä¸ª)</p>
                        <div class="w-full flex h-3 rounded-full overflow-hidden bg-gray-200">
                            <div class="bg-red-600" style="width: 10%" title="1ä¸ªä¸¥é‡é—®é¢˜"></div>
                            <div class="bg-orange-500" style="width: 40%" title="4ä¸ªé‡è¦é—®é¢˜"></div>
                            <div class="bg-yellow-400" style="width: 30%" title="3ä¸ªè­¦å‘Šé—®é¢˜"></div>
                            <div class="bg-blue-500" style="width: 20%" title="2ä¸ªå»ºè®®é—®é¢˜"></div>
                        </div>
                        <div class="flex justify-between text-xs mt-1.5 text-gray-500">
                           <span><span class="w-2 h-2 inline-block rounded-full bg-red-600 mr-1"></span>ä¸¥é‡: 1</span>
                           <span><span class="w-2 h-2 inline-block rounded-full bg-orange-500 mr-1"></span>é‡è¦: 4</span>
                           <span><span class="w-2 h-2 inline-block rounded-full bg-yellow-400 mr-1"></span>è­¦å‘Š: 3</span>
                           <span><span class="w-2 h-2 inline-block rounded-full bg-blue-500 mr-1"></span>å»ºè®®: 2</span>
                        </div>
                    </div>
                </div>
                 <div class="mt-6 p-4 rounded-lg bg-red-50 border border-red-200">
                    <p class="font-bold text-red-800">æ ¸å¿ƒé˜»å¡ç‚¹ï¼š<a href="#P001" class="underline">ã€P001ã€‘äº§å“æ¶æ„/ç³»ç»Ÿæ¶æ„å›¾å®Œå…¨ç¼ºå¤±</a></p>
                    <p class="text-sm text-red-700 mt-1">è¿™æ˜¯æœ¬æ¬¡è¯„å®¡æœ€ä¸¥é‡çš„é—®é¢˜ï¼Œå°†ç›´æ¥é˜»å¡åç»­ç³»ç»Ÿè®¾è®¡å’Œå¼€å‘å·¥ä½œï¼Œå¿…é¡»åœ¨1å‘¨å†…ä¼˜å…ˆè§£å†³ã€‚</p>
                </div>
            </div>

            <!-- Tabs -->
            <div class="border-b border-gray-200 px-6">
                <nav class="-mb-px flex space-x-6" id="tab-nav">
                    <button class="tab-btn active py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700" data-tab="tasks">
                        é—®é¢˜ä¸å»ºè®® <span class="ml-1.5 rounded-full bg-gray-200 text-gray-700 px-2 py-0.5 text-xs">10</span>
                    </button>
                    <button class="tab-btn py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700" data-tab="chapters">
                        ç« èŠ‚è¯„å®¡è¯¦ç»†
                    </button>
                    <button class="tab-btn py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700" data-tab="highlights">
                        æ–‡æ¡£äº®ç‚¹
                    </button>
                    <button class="tab-btn py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700" data-tab="overview">
                        è¯„å®¡æ¦‚è¿°
                    </button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div class="p-6">
                <!-- Tab 1: Problems and Suggestions -->
                <div id="tab-tasks" class="tab-content active">
                    <div class="space-y-3" id="problem-list">
                        <!-- Problems will be injected here -->
                    </div>
                </div>

                <!-- Tab 2: Chapter Review -->
                <div id="tab-chapters" class="tab-content">
                    <div class="card overflow-x-auto border">
                        <table class="w-full text-sm text-left text-gray-600">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3">ç« èŠ‚åç§°</th>
                                    <th scope="col" class="px-6 py-3">ä¸»è¦é—®é¢˜</th>
                                    <th scope="col" class="px-6 py-3">æœ€é«˜ç­‰çº§</th>
                                    <th scope="col" class="px-6 py-3">è¯„ä»·ç»“æœ</th>
                                </tr>
                            </thead>
                            <tbody id="chapters-table-body">
                                <!-- Chapter table rows will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tab 3: Highlights -->
                <div id="tab-highlights" class="tab-content">
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-6 rounded-lg bg-green-50 border border-green-200">
                            <h3 class="font-semibold text-lg text-green-800">çŠ¶æ€æœºå®šä¹‰æ¸…æ™° <span class="text-sm font-normal">(+5åˆ†)</span></h3>
                            <p class="text-gray-600 text-sm mt-2">é€šè¿‡çŠ¶æ€å›¾å’Œè¯¦ç»†è½¬æ¢æ¡ä»¶ï¼Œå¯¹åŠŸèƒ½çš„å…³é”®çŠ¶æ€è¿›è¡Œäº†æ¸…æ™°å®šä¹‰ï¼Œä¸ºå¼€å‘æä¾›äº†æ— æ­§ä¹‰çš„é€»è¾‘æ¡†æ¶ã€‚</p>
                        </div>
                        <div class="p-6 rounded-lg bg-green-50 border border-green-200">
                            <h3 class="font-semibold text-lg text-green-800">éåŠŸèƒ½æ€§æŒ‡æ ‡é‡åŒ–æ˜ç¡® <span class="text-sm font-normal">(+5åˆ†)</span></h3>
                            <p class="text-gray-600 text-sm mt-2">æ˜ç¡®é‡åŒ–äº†å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼ˆå¦‚å»¶è¿Ÿã€å¸§ç‡ï¼‰å’Œæ•°æ®åŸ‹ç‚¹éœ€æ±‚ï¼Œç¡®ä¿äº†åŠŸèƒ½å¯è¢«å®¢è§‚è¡¡é‡å’Œè¿è¥ä¼˜åŒ–ã€‚</p>
                        </div>
                        <div class="p-6 rounded-lg bg-green-50 border border-green-200">
                            <h3 class="font-semibold text-lg text-green-800">Use Caseç»“æ„åŒ–ç¨‹åº¦é«˜ <span class="text-sm font-normal">(+3åˆ†)</span></h3>
                            <p class="text-gray-600 text-sm mt-2">é‡‡ç”¨â€œå‰ç½®æ¡ä»¶-è§¦å‘äº‹ä»¶-ä¸»æµç¨‹â€çš„ç»“æ„åŒ–æ–¹å¼æè¿°åœºæ™¯ï¼Œæœ‰åŠ©äºå„æ–¹è¾¾æˆå…±è¯†ï¼Œæ˜“äºåˆ†è§£ä»»åŠ¡ã€‚</p>
                        </div>
                    </div>
                </div>

                <!-- Tab 4: Overview -->
                <div id="tab-overview" class="tab-content">
                    <div class="space-y-6 text-sm">
                        <!-- Restored Sections -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="p-6 border rounded-lg bg-white shadow-sm">
                                <h3 class="font-semibold text-lg mb-3">æ–‡æ¡£ä¿¡æ¯</h3>
                                <div class="space-y-2 text-gray-700">
                                    <p><strong>æ–‡æ¡£åç§°:</strong> BSV ç‰¹æ€§éœ€æ±‚æ–‡æ¡£</p>
                                    <p><strong>ç‰ˆæœ¬:</strong> V1.0.2</p>
                                    <p><strong>å˜æ›´çŠ¶æ€:</strong> å˜æ›´</p>
                                    <p><strong>éœ€æ±‚æ¦‚è¿°:</strong> å®šä¹‰ç›²åŒºç›‘æµ‹ï¼ˆBSVï¼‰åŠŸèƒ½çš„æ ¸å¿ƒç‰¹æ€§ã€ç”¨æˆ·åœºæ™¯ä¸æ€§èƒ½æŒ‡æ ‡ã€‚</p>
                                </div>
                            </div>
                            <div class="p-6 border rounded-lg bg-white shadow-sm">
                                <h3 class="font-semibold text-lg mb-3">è¯„å®¡èŒƒå›´</h3>
                                <div class="space-y-2 text-gray-700">
                                    <p><strong>è¯„å®¡ç« èŠ‚æ•°é‡:</strong> <a href="#" data-target-tab="chapters" class="text-blue-600 hover:underline overview-link">23ä¸ªç« èŠ‚</a></p>
                                    <p><strong>è¯„å®¡è§„åˆ™æ•°é‡:</strong> <a href="#" class="text-blue-600 hover:underline">27ä¸ªè§„åˆ™</a></p>
                                    <p><strong>éœ€æ±‚æ¨¡ç‰ˆ:</strong> <a href="#" class="text-blue-600 hover:underline">æ±½è½¦è¡Œä¸šæ ‡å‡†PRDæ¨¡ç‰ˆV2.1</a></p>
                                    <p><strong>è¯„å®¡é‡ç‚¹:</strong> PRDçš„æ•´ä½“è´¨é‡ã€å¯¹äºäº§å“è®¾è®¡çš„ä»·å€¼å’Œæ˜“äºè¢«å…¶ä»–ç†è§£ï¼Œè¢«AI Codingç†è§£</p>
                                </div>
                            </div>
                        </div>

                        <!-- Dimension Analysis Section -->
                        <div class="p-4 border rounded-lg">
                            <h3 class="font-semibold text-lg mb-4">ç»´åº¦åˆ†æ</h3>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-6">
                                <div>
                                    <h4 class="font-medium mb-3 text-gray-700">å„ç»´åº¦å¾—åˆ†</h4>
                                    <div class="space-y-4">
                                        <div>
                                            <div class="flex justify-between mb-1"><span class="font-medium text-gray-700">å®Œæ•´æ€§</span><span class="font-medium text-red-600">62 / 100</span></div>
                                            <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-red-600 h-2 rounded-full" style="width: 62%"></div></div>
                                        </div>
                                        <div>
                                            <div class="flex justify-between mb-1"><span class="font-medium text-gray-700">ä¸€è‡´æ€§</span><span class="font-medium text-orange-500">76 / 100</span></div>
                                            <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-orange-500 h-2 rounded-full" style="width: 76%"></div></div>
                                        </div>
                                        <div>
                                            <div class="flex justify-between mb-1"><span class="font-medium text-gray-700">å¯æµ‹è¯•æ€§</span><span class="font-medium text-green-500">90 / 100</span></div>
                                            <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width: 90%"></div></div>
                                        </div>
                                        <div>
                                            <div class="flex justify-between mb-1"><span class="font-medium text-gray-700">å¯è¿½æº¯æ€§</span><span class="font-medium text-orange-500">70 / 100</span></div>
                                            <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-orange-500 h-2 rounded-full" style="width: 70%"></div></div>
                                        </div>
                                        <div>
                                            <div class="flex justify-between mb-1"><span class="font-medium text-gray-700">æ˜ç¡®æ€§</span><span class="font-medium text-orange-500">73 / 100</span></div>
                                            <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-orange-500 h-2 rounded-full" style="width: 73%"></div></div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-medium mb-3 text-gray-700">å„ç»´åº¦é—®é¢˜åˆ†å¸ƒ</h4>
                                    <div class="space-y-3 text-gray-600">
                                        <div class="flex justify-between items-center bg-gray-50 p-2 rounded-md"><span><span class="w-2 h-2 inline-block rounded-full bg-sky-500 mr-2"></span>å®Œæ•´æ€§</span><span class="font-semibold text-gray-800">4 ä¸ªé—®é¢˜</span></div>
                                        <div class="flex justify-between items-center bg-gray-50 p-2 rounded-md"><span><span class="w-2 h-2 inline-block rounded-full bg-amber-500 mr-2"></span>ä¸€è‡´æ€§</span><span class="font-semibold text-gray-800">2 ä¸ªé—®é¢˜</span></div>
                                        <div class="flex justify-between items-center bg-gray-50 p-2 rounded-md"><span><span class="w-2 h-2 inline-block rounded-full bg-indigo-500 mr-2"></span>å¯è¿½æº¯æ€§</span><span class="font-semibold text-gray-800">2 ä¸ªé—®é¢˜</span></div>
                                        <div class="flex justify-between items-center bg-gray-50 p-2 rounded-md"><span><span class="w-2 h-2 inline-block rounded-full bg-purple-500 mr-2"></span>æ˜ç¡®æ€§</span><span class="font-semibold text-gray-800">2 ä¸ªé—®é¢˜</span></div>
                                        <div class="flex justify-between items-center bg-gray-50 p-2 rounded-md"><span><span class="w-2 h-2 inline-block rounded-full bg-emerald-500 mr-2"></span>å¯æµ‹è¯•æ€§</span><span class="font-semibold text-gray-800">0 ä¸ªé—®é¢˜</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="p-4 border rounded-lg">
                           <h3 class="font-semibold text-lg mb-3">é—®é¢˜åˆ†çº§ä¸è¯„åˆ†è§„åˆ™</h3>
                           <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                                <div class="severity-critical"><strong class="text-severity">ä¸¥é‡:</strong> é˜»å¡å¼€å‘æ¨è¿›ï¼Œå¿…é¡»ä¿®å¤ã€‚</div>
                                <div class="severity-important"><strong class="text-severity">é‡è¦:</strong> å½±å“è´¨é‡æ•ˆç‡ï¼Œå»ºè®®ä¿®å¤ã€‚</div>
                                <div class="severity-warning"><strong class="text-severity">è­¦å‘Š:</strong> å½±å“æ‰©å±•ç»´æŠ¤ï¼Œå»ºè®®ä¼˜åŒ–ã€‚</div>
                                <div class="severity-suggestion"><strong class="text-severity">å»ºè®®:</strong> æå‡æ–‡æ¡£è´¨é‡ï¼Œé¼“åŠ±ä¼˜åŒ–ã€‚</div>
                            </div>
                            <p class="text-gray-600"><strong>è¯„åˆ†è§„åˆ™:</strong> æœ€ç»ˆå¾—åˆ† = 70 (åŸºç¡€åˆ†) + äº®ç‚¹åŠ åˆ† (æœ€é«˜+15) - é—®é¢˜æ‰£åˆ† (ä¸¥é‡-8, é‡è¦-4, è­¦å‘Š-2, å»ºè®®-1)</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- New Action Buttons Section -->
            <div class="p-6 border-t border-gray-200 flex justify-between items-center no-print">
                <!-- Left Button -->
                <button class="text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8a5 5 0 000-10H6" />
                    </svg>
                    å›è¿”äººå·¥ç¡®è®¤
                </button>

                <!-- Right Buttons -->
                <div class="flex items-center gap-4">
                    <button class="text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        AIè¯„å®¡å¤±è¯¯ä¼˜åŒ–
                    </button>
                    <button onclick="window.print()" class="bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                        å¯¼å‡ºè¯„å®¡æŠ¥å‘Š
                    </button>
                </div>
            </div>

        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- DATA ---
        const reportData = {
            problems: {
                "P001": { 
                    severity: "ä¸¥é‡", 
                    title: "äº§å“æ¶æ„/ç³»ç»Ÿæ¶æ„å›¾å®Œå…¨ç¼ºå¤±", 
                    location: "2.2 äº§å“æ¶æ„/ç³»ç»Ÿæ¶æ„", 
                    dimension: "å®Œæ•´æ€§", 
                    details: "è¯¥ç« èŠ‚å†…å®¹ä»…ä¸ºâ€œç®€å•åŠŸèƒ½ä¸éœ€è¦æ¶æ„åˆ†è§£â€ï¼Œå®Œå…¨æ²¡æœ‰æä¾›äº§å“æ¶æ„å›¾å’Œç³»ç»Ÿæ¶æ„å›¾ï¼Œä¸¥é‡è¿åPRDç¼–å†™åŸºæœ¬è¦æ±‚ã€‚", 
                    expectedState: "åº”åŒ…å«è¯¦ç»†çš„äº§å“æ¶æ„å›¾ï¼ˆå±•ç¤ºè½¯ä»¶æ¨¡å—ã€åˆ†å±‚ã€æ•°æ®æµï¼‰å’Œç³»ç»Ÿæ¶æ„å›¾ï¼ˆå±•ç¤ºç¡¬ä»¶ECUã€ä¼ æ„Ÿå™¨ã€è¿æ¥å…³ç³»ï¼‰ã€‚",
                    technicalImpact: "æ— æ³•è¿›è¡Œç³»ç»Ÿè®¾è®¡å’Œè·¨åŸŸå¼€å‘å¯¹é½ï¼Œé˜»å¡å¼€å‘æµç¨‹ã€‚", 
                    timeImpact: "æ­¤é—®é¢˜æ˜¯é¡¹ç›®æ¨è¿›çš„é˜»å¡ç‚¹ï¼Œå°†å¯¼è‡´é¡¹ç›®å»¶æœŸã€‚",
                    immediateAction: "ç«‹å³ç»„ç»‡POã€SEå’ŒTLå¬å¼€æ¶æ„è®¾è®¡ä¼šè®®ã€‚",
                    specificChanges: "è¡¥å……äº§å“æ¶æ„å›¾å’Œç³»ç»Ÿæ¶æ„å›¾ï¼Œæ˜ç¡®æ¨¡å—ã€æ•°æ®æµå’Œç¡¬ä»¶è¿æ¥ã€‚",
                    verificationMethod: "è¡¥å……çš„æ¶æ„å›¾éœ€é€šè¿‡æ¶æ„è¯„å®¡ä¼šï¼Œç¡®ä¿æ‰€æœ‰ç›¸å…³æ–¹è¾¾æˆä¸€è‡´ã€‚"
                },
                "P002": { 
                    severity: "é‡è¦", 
                    title: "è·¨åŸŸæ–‡æ¡£å…³è”ä¸è§„èŒƒï¼Œå¯è¿½æº¯æ€§å·®", 
                    location: "1.4.1 å½“å‰åŠŸèƒ½ç›¸å…³æ–‡æ¡£", 
                    dimension: "å¯è¿½æº¯æ€§", 
                    details: "å…³è”æ–‡æ¡£ä»¥ä¸è§„åˆ™çš„åˆ—è¡¨å½¢å¼å‘ˆç°ï¼Œç¼ºä¹ç»“æ„åŒ–çš„ä¿¡æ¯ã€‚æ²¡æœ‰æ¸…æ™°çš„åˆ†ç±»å’Œç‰ˆæœ¬æ ‡è¯†ã€‚", 
                    expectedState: "åº”å‚ç…§æ ‡å‡†æ¨¡æ¿çš„è¡¨æ ¼æ ¼å¼ï¼Œä¸ºæ¯ä¸ªå…³è”æ–‡æ¡£æ˜ç¡®å…¶ç±»åˆ«ï¼ˆUE/DR/PRDç­‰ï¼‰ã€æ–‡æ¡£IDå’Œå‡†ç¡®çš„ç‰ˆæœ¬å·ã€‚",
                    technicalImpact: "å½“å…³è”æ–‡æ¡£å‘ç”Ÿå˜æ›´æ—¶ï¼Œå¾ˆéš¾è¯„ä¼°å…¶å¯¹BSVåŠŸèƒ½çš„å½±å“èŒƒå›´ï¼Œå¢åŠ äº†ç‰ˆæœ¬ä¸åŒ¹é…å’Œé›†æˆå¤±è´¥çš„é£é™©ã€‚", 
                    timeImpact: "å¯èƒ½åœ¨é›†æˆé˜¶æ®µå¯¼è‡´è¿”å·¥ï¼Œæµªè´¹å¼€å‘æ—¶é—´ã€‚",
                    immediateAction: "äº§å“è´Ÿè´£äººä¸é¡¹ç›®ç®¡ç†å›¢é˜Ÿå¯¹é½ï¼Œè·å–æœ€æ–°çš„å…³è”æ–‡æ¡£åˆ—è¡¨ã€‚",
                    specificChanges: "å‚ç…§æ ‡å‡†æ¨¡æ¿çš„è¡¨æ ¼æ ¼å¼ï¼Œé‡æ–°æ•´ç†1.4.1ç« èŠ‚ã€‚",
                    verificationMethod: "äº¤å‰æ£€æŸ¥è¡¨æ ¼å†…å®¹ä¸æœ€æ–°çš„æ–‡æ¡£åº“ä¿¡æ¯ï¼Œç¡®ä¿100%å‡†ç¡®ã€‚"
                },
                "P003": { 
                    severity: "é‡è¦", 
                    title: "åŠŸèƒ½åˆ—è¡¨ç»“æ„æ··ä¹±ï¼Œä¸ç¬¦åˆMECEåŸåˆ™", 
                    location: "2.7 åŠŸèƒ½åˆ—è¡¨", 
                    dimension: "å®Œæ•´æ€§", 
                    details: "åŠŸèƒ½åˆ—è¡¨çš„å±‚çº§åˆ’åˆ†ä¸æ¸…æ™°ï¼Œå°†ä¸åŒæ¨¡å¼ï¼ˆæ ‡å‡†æ¨¡å¼ã€æŒ‚è½¦æ¨¡å¼ã€DOWæ¨¡å¼ï¼‰ä¸‹çš„åŠŸèƒ½ç‚¹æ··åˆåœ¨ä¸€èµ·ã€‚", 
                    expectedState: "åŠŸèƒ½åˆ—è¡¨åº”éµå¾ªMECEåŸåˆ™ï¼Œåˆ›å»ºå¦‚â€œæ ‡å‡†æ¨¡å¼â€ã€â€œæŒ‚è½¦æ¨¡å¼â€ã€â€œDOWæ¨¡å¼â€ç­‰äºŒçº§åŠŸèƒ½åˆ†ç±»ï¼Œç»“æ„æ¸…æ™°ã€‚",
                    technicalImpact: "éœ€æ±‚åˆ†è§£å’Œä»»åŠ¡åˆ†é…ä¼šå˜å¾—å›°éš¾ã€‚å¼€å‘äººå‘˜å¯èƒ½é”™è¯¯åœ°å°†æŸä¸€æ¨¡å¼ä¸‹çš„é€»è¾‘åº”ç”¨åˆ°å¦ä¸€æ¨¡å¼ï¼Œå¯¼è‡´åŠŸèƒ½ç¼ºé™·ã€‚", 
                    timeImpact: "å¢åŠ å¼€å‘å‰çš„éœ€æ±‚æ¾„æ¸…ä¼šè®®æ—¶é—´ï¼Œå¯èƒ½å¯¼è‡´å¼€å‘å‘¨æœŸå»¶é•¿ã€‚",
                    immediateAction: "äº§å“è´Ÿè´£äººé‡æ–°æ¢³ç†åŠŸèƒ½é€»è¾‘ã€‚",
                    specificChanges: "å‚ç…§æ ‡å‡†æ¨¡æ¿çš„åŠŸèƒ½åˆ—è¡¨æ¡ˆä¾‹ï¼Œé‡æ„2.7ç« èŠ‚ã€‚",
                    verificationMethod: "é‚€è¯·å¼€å‘å’Œæµ‹è¯•è´Ÿè´£äººè¯„å®¡æ–°çš„åŠŸèƒ½åˆ—è¡¨ï¼Œç¡®ä¿å…¶æ¸…æ™°æ— æ­§ä¹‰ã€‚"
                },
                "P004": { 
                    severity: "è­¦å‘Š", 
                    title: "äº§å“æ¢¯åº¦é…ç½®è¿‡äºç®€åŒ–", 
                    location: "2.3 äº§å“æ¢¯åº¦é…ç½®è¯´æ˜", 
                    dimension: "å®Œæ•´æ€§", 
                    details: "äº§å“æ¢¯åº¦é…ç½®è¯´æ˜è¡¨æ ¼ä»…ç®€å•ç½—åˆ—äº†å¹³å°ï¼Œå¯¹äºä¸åŒé…ç½®ï¼ˆå¦‚Pro, Maxï¼‰ä¸‹çš„åŠŸèƒ½å·®å¼‚åŒ–æœªåšä»»ä½•è¯´æ˜ã€‚", 
                    expectedState: "åº”æ˜ç¡®BSVåŠŸèƒ½æ˜¯å¦å­˜åœ¨ä¸åŒæ¢¯åº¦é…ç½®ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™è¯¦ç»†æè¿°åœ¨ä¸åŒé…ç½®ä¸‹çš„åŠŸèƒ½å…·ä½“è¡¨ç°æœ‰ä½•ä¸åŒã€‚",
                    technicalImpact: "å¼€å‘å®ç°æ—¶å¯èƒ½å¯¹ä¸åŒé…ç½®çš„åŠŸèƒ½èŒƒå›´äº§ç”Ÿæ··æ·†ã€‚", 
                    timeImpact: "åæœŸå¯èƒ½éœ€è¦è¿”å·¥æ¥é€‚é…ä¸åŒæ¢¯åº¦ï¼Œæˆ–å¯¼è‡´å¸‚åœºå®£ä¼ ä¸å®é™…åŠŸèƒ½ä¸ç¬¦ã€‚",
                    immediateAction: "ä¸äº§å“è§„åˆ’å›¢é˜Ÿå¯¹é½ï¼Œç¡®è®¤æ¢¯åº¦é…ç½®ç­–ç•¥ã€‚",
                    specificChanges: "æ›´æ–°2.3ç« èŠ‚çš„è¡¨æ ¼ï¼Œè¯¦ç»†æè¿°å„æ¢¯åº¦ä¸‹çš„åŠŸèƒ½å·®å¼‚ã€‚",
                    verificationMethod: "å°†æ›´æ–°åçš„æ¢¯åº¦é…ç½®è¯´æ˜åŒæ­¥ç»™å¸‚åœºå’Œé”€å”®å›¢é˜Ÿç¡®è®¤ã€‚"
                },
                "P005": { 
                    severity: "é‡è¦", 
                    title: "æ³•è§„éµä»æ€§è¯´æ˜ä¸è¶³", 
                    location: "1.4.2 æ”¿ç­–æ³•è§„æ–‡ä»¶", 
                    dimension: "å®Œæ•´æ€§", 
                    details: "æ³•è§„å¼•ç”¨æœªæ˜ç¡®æŒ‡å‡ºå…·ä½“é€‚ç”¨çš„ç« èŠ‚æ¡æ¬¾ï¼Œä»¥åŠè¿™äº›æ¡æ¬¾ä¸å…·ä½“Use Caseçš„å…³è”æ€§ã€‚", 
                    expectedState: "è¡¨æ ¼ä¸­åº”å°†â€œæ³•è§„ç›¸å…³å†…å®¹â€æ›´æ–°ä¸ºå…·ä½“çš„ç« èŠ‚å’Œæ¡æ¬¾åŸæ–‡ï¼Œå¹¶å…³è”åˆ°å…·ä½“Use Case IDã€‚",
                    technicalImpact: "å­˜åœ¨äº§å“ä¸æ»¡è¶³ç›®æ ‡å¸‚åœºæ³•è§„çš„é£é™©ï¼Œå¯èƒ½å¯¼è‡´è®¤è¯å¤±è´¥æˆ–äº§å“å¬å›ã€‚", 
                    timeImpact: "è‹¥åœ¨åæœŸå‘ç°æ³•è§„é—®é¢˜ï¼Œå°†å¯¼è‡´é«˜æ˜‚çš„æ•´æ”¹æˆæœ¬å’Œæ—¶é—´å»¶è¯¯ã€‚",
                    immediateAction: "ä¸æ³•è§„éƒ¨é—¨æˆ–åˆè§„ä¸“å®¶åˆä½œï¼Œè¿›è¡Œæ³•è§„åˆ†æã€‚",
                    specificChanges: "æ›´æ–°1.4.2ç« èŠ‚çš„è¡¨æ ¼ï¼Œè¡¥å……æ³•è§„æ¡æ¬¾åŸæ–‡å’ŒUse Caseå…³è”ã€‚",
                    verificationMethod: "ç”±æ³•è§„éƒ¨é—¨æ­£å¼ç­¾æ ¸ç¡®è®¤æ³•è§„éµä»æ€§ã€‚"
                },
                "P006": { 
                    severity: "è­¦å‘Š", 
                    title: "æœ¯è¯­å®šä¹‰ä¸ä¸€è‡´", 
                    location: "1.3 æœ¯è¯­è§£é‡Š", 
                    dimension: "ä¸€è‡´æ€§", 
                    details: "æœ¯è¯­â€œCSDâ€åœ¨æ–‡æ¡£ä¸­å®šä¹‰ä¸ºâ€œCenterstack Displayâ€ï¼Œä¸æ¨¡æ¿ä¸­çš„â€œä¸­æ§å±â€å¸¸ç”¨è¡¨è¾¾ä¸å®Œå…¨ä¸€è‡´ã€‚", 
                    expectedState: "æœ¯è¯­å®šä¹‰åº”ç»Ÿä¸€ï¼Œå¹¶æä¾›ä¸­è‹±æ–‡å¯¹ç…§ï¼Œé¿å…æ­§ä¹‰ã€‚",
                    technicalImpact: "å¯¹äºéæŠ€æœ¯èƒŒæ™¯çš„é˜…è¯»è€…ï¼ˆå¦‚å¸‚åœºã€é”€å”®ï¼‰ï¼Œçº¯è‹±æ–‡ç¼©å†™å¯èƒ½é€ æˆç†è§£éšœç¢ï¼Œæ²Ÿé€šæ•ˆç‡é™ä½ã€‚", 
                    timeImpact: "å¾®å°å½±å“ï¼Œä¸»è¦ä½“ç°åœ¨æ²Ÿé€šæˆæœ¬ä¸Šã€‚",
                    immediateAction: "è¯„å®¡å¹¶ç»Ÿä¸€é¡¹ç›®å†…çš„æœ¯è¯­è¡¨ã€‚",
                    specificChanges: "åœ¨æœ¯è¯­è¡¨ä¸­ï¼Œä¸ºâ€œCSDâ€çš„å®šä¹‰å¢åŠ ä¸­æ–‡è§£é‡Šï¼Œä¿®æ”¹ä¸º Centerstack Display (ä¸­æ§æ˜¾ç¤ºå±)ã€‚",
                    verificationMethod: "å°†æ›´æ–°åçš„æœ¯è¯­è¡¨åœ¨å›¢é˜Ÿå†…å…¬ç¤ºã€‚"
                },
                "P007": { 
                    severity: "é‡è¦", 
                    title: "éœ€æ±‚å­˜åœ¨æœªå…³é—­çš„å¼€æ”¾ç‚¹", 
                    location: "2.5 å…³é”®çŠ¶æ€æµè½¬", 
                    dimension: "æ˜ç¡®æ€§", 
                    details: "æ–‡æ¡£ä¸­å­˜åœ¨å¤šä¸ªâ€œæ‰¹æ³¨â€ï¼Œè¡¨æ˜æŸäº›éœ€æ±‚ç‚¹å°šæœªè¾¾æˆæœ€ç»ˆå…±è¯†ã€‚ä¾‹å¦‚ï¼š[æ‰¹æ³¨[5]:éœ€è¦è·Ÿè¡Œè½¦ç¡®è®¤æŒ‚è½¦æ¨¡å¼ä¸‹æ˜¯å¦èƒ½å¼€å¯ICC/ACCç­‰åŠŸèƒ½]ã€‚", 
                    expectedState: "PRDæ­£å¼ç‰ˆæœ¬ä¸­ä¸åº”åŒ…å«ä»»ä½•å¼€æ”¾æ€§çš„æ‰¹æ³¨æˆ–å¾…å®šé¡¹ï¼Œæ‰€æœ‰éœ€æ±‚ç‚¹éƒ½åº”æ˜¯æ˜ç¡®å’Œå…³é—­çš„ã€‚",
                    technicalImpact: "å¼€å‘äººå‘˜æ— æ³•å®ç°ä¸ç¡®å®šçš„éœ€æ±‚ï¼Œå¦‚æœå¼ºè¡Œå®ç°ï¼Œææœ‰å¯èƒ½åœ¨åæœŸå› ä¸ºéœ€æ±‚å˜æ›´è€Œå¯¼è‡´å¤§é‡è¿”å·¥ã€‚", 
                    timeImpact: "å¼€æ”¾ç‚¹æ˜¯é¡¹ç›®å»¶æœŸçš„ä¸»è¦é£é™©æºä¹‹ä¸€ã€‚",
                    immediateAction: "äº§å“è´Ÿè´£äººå¿…é¡»ç«‹å³è·Ÿè¿›æ‰€æœ‰æ‰¹æ³¨ä¸­æåˆ°çš„å¾…åŠäº‹é¡¹ï¼Œæ¨åŠ¨å†³ç­–ã€‚",
                    specificChanges: "ä¸ç›¸å…³å›¢é˜Ÿï¼ˆå¦‚è¡Œè½¦åŠŸèƒ½å›¢é˜Ÿï¼‰å¼€ä¼šç¡®è®¤ï¼Œå¹¶å°†æœ€ç»ˆç»“è®ºæ›´æ–°åˆ°æ­£æ–‡ä¸­ï¼Œç„¶ååˆ é™¤è¯¥æ‰¹æ³¨ã€‚",
                    verificationMethod: "ç¡®è®¤æ‰€æœ‰æ‰¹æ³¨å·²è¢«ç§»é™¤ï¼Œä¸”ç›¸å…³éœ€æ±‚å·²æ˜ç¡®å†™å…¥æ–‡æ¡£ã€‚"
                },
                "P008": { 
                    severity: "è­¦å‘Š", 
                    title: "åŠŸèƒ½åˆ—è¡¨ä¸Use Caseä¸å®Œå…¨å¯¹åº”", 
                    location: "2.7, 3.x", 
                    dimension: "ä¸€è‡´æ€§", 
                    details: "åŠŸèƒ½åˆ—è¡¨ä¸­çš„æŸäº›æ¡ç›®åœ¨Use Caseç« èŠ‚æ²¡æœ‰å®Œå…¨å¯¹åº”çš„è¯¦ç»†è®¾è®¡ã€‚", 
                    expectedState: "åŠŸèƒ½åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªåŠŸèƒ½ç‚¹ï¼Œéƒ½åº”èƒ½åœ¨Use Caseç« èŠ‚æ‰¾åˆ°å¯¹åº”çš„è¯¦ç»†åœºæ™¯æè¿°ã€‚",
                    technicalImpact: "å¯èƒ½å¯¼è‡´éƒ¨åˆ†éœ€æ±‚ï¼ˆå¦‚æ­¤å¤„æåˆ°çš„æ ‡å‡†æ¨¡å¼ä¸‹çš„æ•…éšœé€€å‡ºé€»è¾‘ï¼‰æ²¡æœ‰è¢«è¯¦ç»†è®¾è®¡ï¼Œå¼€å‘æ—¶å¯èƒ½ä¼šé—æ¼ã€‚", 
                    timeImpact: "å¯èƒ½åœ¨å¼€å‘æˆ–æµ‹è¯•é˜¶æ®µå‘ç°éœ€æ±‚é—æ¼ï¼Œé€ æˆè¿”å·¥ã€‚",
                    immediateAction: "äº§å“è´Ÿè´£äººè¿›è¡ŒåŠŸèƒ½åˆ—è¡¨å’ŒUse Caseçš„ä¸€è‡´æ€§æ£€æŸ¥ã€‚",
                    specificChanges: "æ¢³ç†2.7ç« èŠ‚çš„åŠŸèƒ½åˆ—è¡¨ï¼Œä¸ºç¼ºå¤±çš„æ¡ç›®åœ¨ç¬¬3ç« ä¸­è¡¥å……å¯¹åº”çš„Use Caseã€‚",
                    verificationMethod: "ä½¿ç”¨éœ€æ±‚è¿½æº¯å·¥å…·æˆ–æ‰‹åŠ¨æ£€æŸ¥ï¼Œç¡®ä¿åŠŸèƒ½åˆ—è¡¨ä¸Use Caseä¸€ä¸€å¯¹åº”ã€‚"
                },
                "P009": { 
                    severity: "å»ºè®®", 
                    title: "å˜æ›´æ—¥å¿—æè¿°å¯ä¼˜åŒ–", 
                    location: "ç¼–åˆ¶/å˜æ›´æ—¥å¿—", 
                    dimension: "å¯è¿½æº¯æ€§", 
                    details: "ç‰ˆæœ¬V1.0.2çš„ä¿®æ”¹å†…å®¹æè¿°ç¬¼ç»Ÿï¼Œæœªèƒ½ä½“ç°å¢é‡ä¿®æ”¹çš„å…·ä½“æ¡ç›®ã€‚", 
                    expectedState: "å˜æ›´æ—¥å¿—åº”æ¸…æ™°ã€å…·ä½“åœ°æè¿°æ¯æ¬¡å˜æ›´çš„å†…å®¹ï¼Œæœ€å¥½èƒ½å…³è”åˆ°å…·ä½“çš„ç« èŠ‚æˆ–éœ€æ±‚IDã€‚",
                    technicalImpact: "è½»å¾®å½±å“ç‰ˆæœ¬é—´å˜æ›´çš„å¿«é€Ÿè¿½æº¯èƒ½åŠ›ã€‚", 
                    timeImpact: "æ— æ˜æ˜¾æ—¶é—´å½±å“ã€‚",
                    immediateAction: "æ— ã€‚",
                    specificChanges: "å°†V1.0.2çš„å˜æ›´æè¿°ä¿®æ”¹å¾—æ›´å…·ä½“ï¼Œä¾‹å¦‚ï¼š\n1. åœ¨Usecase 3.4.1, 3.5.1, 3.5.2ä¸­ï¼Œå¢åŠ å…³è”ç³»ç»Ÿæ•…éšœçš„æ–‡è¨€æç¤ºã€‚\n2. åœ¨Usecase 3.2.1, 3.3.1ä¸­ï¼Œå¢åŠ ä¸è¡Œè½¦åŠŸèƒ½çš„æŠ‘åˆ¶é€»è¾‘ã€‚\n3. æ–°å¢Usecase 3.3.2ï¼šBSVä¸BSDè”åŠ¨æŠ¥è­¦ã€‚",
                    verificationMethod: "å›¢é˜Ÿå†…ä»£ç å®¡æŸ¥æ—¶ï¼Œæ£€æŸ¥å˜æ›´æ—¥å¿—çš„è§„èŒƒæ€§ã€‚"
                },
                "P010": { 
                    severity: "å»ºè®®", 
                    title: "æ–‡è¨€æ±‡æ€»å†…å®¹åŠä½ç½®å¯ä¼˜åŒ–", 
                    location: "4.3.1 æ–‡è¨€æç¤ºæ±‡æ€»", 
                    dimension: "æ˜ç¡®æ€§", 
                    details: "è¯¥ç« èŠ‚çš„å¤‡æ³¨ä¸­ï¼Œå¯¹æ–‡è¨€çš„é€€å‡ºæ¡ä»¶æè¿°ä¸ºâ€œ5såæ–‡è¨€å’Œå½±åƒé€€å‡ºâ€ï¼Œè¿™é‡Œçš„â€œå½±åƒé€€å‡ºâ€å¯èƒ½å­˜åœ¨æ­§ä¹‰ã€‚", 
                    expectedState: "HMIç›¸å…³çš„æè¿°åº”æ¸…æ™°æ— æ­§ä¹‰ï¼Œæœ€å¥½èƒ½å°†æ‰€æœ‰HMIç›¸å…³å†…å®¹æ•´åˆåˆ°ç‹¬ç«‹ç« èŠ‚ã€‚",
                    technicalImpact: "å¯èƒ½å¯¼è‡´HMIå®ç°ä¸é¢„æœŸæœ‰ç»†å¾®åå·®ã€‚", 
                    timeImpact: "æ— æ˜æ˜¾æ—¶é—´å½±å“ï¼Œä½†å¯èƒ½å¢åŠ UI/UXæ²Ÿé€šæˆæœ¬ã€‚",
                    immediateAction: "ä¸HMIè®¾è®¡å›¢é˜Ÿæ²Ÿé€šï¼Œç¡®è®¤æ–‡è¨€äº¤äº’è§„èŒƒã€‚",
                    specificChanges: "1. å°†â€œ5såæ–‡è¨€å’Œå½±åƒé€€å‡ºâ€ä¿®æ”¹ä¸ºæ›´æ˜ç¡®çš„æè¿°ï¼Œä¾‹å¦‚ï¼šâ€œToastæ–‡è¨€æ˜¾ç¤º5såè‡ªåŠ¨æ¶ˆå¤±ï¼›è§†å›¾ä¸Šçš„å¸¸æ˜¾æ–‡è¨€éšå½±åƒä¸€åŒé€€å‡ºâ€ã€‚\n2. è€ƒè™‘å°†æ‰€æœ‰HMIç›¸å…³çš„æç¤ºä¿¡æ¯æ•´åˆåˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç« èŠ‚ä¸­ã€‚",
                    verificationMethod: "HMIäº¤äº’åŸå‹è¯„å®¡é€šè¿‡ã€‚"
                }
            },
            chapters: [
                { name: "å°é¢", problems: [] }, { name: "ç¼–åˆ¶/å˜æ›´æ—¥å¿—", problems: ["P009"] }, { name: "1.1 æ–‡æ¡£èƒŒæ™¯", problems: [] }, { name: "1.2 æ–‡æ¡£èŒƒå›´", problems: [] }, { name: "1.3 æœ¯è¯­è§£é‡Š", problems: ["P006"] }, { name: "1.4.1 å½“å‰åŠŸèƒ½ç›¸å…³æ–‡æ¡£", problems: ["P002"] }, { name: "1.4.2 æ”¿ç­–æ³•è§„æ–‡ä»¶", problems: ["P005"] }, { name: "1.4.3 è¡Œä¸šè§„èŒƒæ–‡ä»¶", problems: [] }, { name: "2.1 äº§å“åœºæ™¯åŠæ¦‚è¦è¯´æ˜", problems: [] }, { name: "2.2 äº§å“æ¶æ„/ç³»ç»Ÿæ¶æ„", problems: ["P001"] }, { name: "2.3 äº§å“æ¢¯åº¦é…ç½®è¯´æ˜", problems: ["P004"] }, { name: "2.4 åŠŸèƒ½æµç¨‹å›¾", problems: [] }, { name: "2.5 å…³é”®çŠ¶æ€æµè½¬", problems: ["P007"] }, { name: "2.6 é…ç½®", problems: [] }, { name: "2.7 åŠŸèƒ½åˆ—è¡¨", problems: ["P003", "P008"] }, { name: "3.1.1, 3.1.2 åŠŸèƒ½æ¿€æ´»", problems: [] }, { name: "3.2.1 åŠŸèƒ½é€€å‡º", problems: [] }, { name: "3.3.1, 3.3.2 è”åŠ¨é€»è¾‘", problems: [] }, { name: "3.4.1 æŒ‚è½¦æ¨¡å¼æ•…éšœ", problems: [] }, { name: "3.5.1, 3.5.2 DOWæ¨¡å¼æ•…éšœ", problems: [] }, { name: "4.1 åŠŸèƒ½æŒ‡æ ‡è¦æ±‚", problems: [] }, { name: "4.2 æ•°æ®æŒ‡æ ‡éœ€æ±‚", problems: [] }, { name: "4.3.1 æ–‡è¨€æç¤ºæ±‡æ€»", problems: ["P010"] },
            ]
        };

        const severityMap = {
            'ä¸¥é‡': { name: 'critical', icon: 'ğŸ”´', order: 1 },
            'é‡è¦': { name: 'important', icon: 'ğŸŸ ', order: 2 },
            'è­¦å‘Š': { name: 'warning', icon: 'ğŸŸ¡', order: 3 },
            'å»ºè®®': { name: 'suggestion', icon: 'ğŸ”µ', order: 4 },
        };

        // --- RENDER FUNCTIONS ---
        
        // Render Core Tasks Tab
        function renderProblemList() {
            const container = document.getElementById('problem-list');
            const problemOrder = Object.keys(reportData.problems).sort((a, b) => {
                const problemA = reportData.problems[a];
                const problemB = reportData.problems[b];
                return severityMap[problemA.severity].order - severityMap[problemB.severity].order;
            });

            container.innerHTML = problemOrder.map(pId => {
                const problem = reportData.problems[pId];
                const severity = severityMap[problem.severity];
                return `
                <details class="problem-item border rounded-lg overflow-hidden" id="${pId}">
                    <summary class="p-4 flex items-center justify-between cursor-pointer bg-white">
                        <div class="flex items-center gap-3">
                           <svg class="w-5 h-5 text-gray-400 arrow" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                           <span class="font-medium text-gray-800">[${pId}] ${problem.title}</span>
                        </div>
                        <div class="flex items-center gap-3 sm:gap-4">
                            <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full hidden md:inline-block">${problem.dimension}</span>
                            <span class="text-xs font-medium severity-${severity.name} bg-severity text-severity px-2 py-1 rounded-full">${severity.icon} ${problem.severity}</span>
                            <a href="#" class="text-xs text-blue-600 hover:underline hidden sm:block view-chapter-link" data-chapter-name="${problem.location}">${problem.location}</a>
                        </div>
                    </summary>
                    <div class="p-6 bg-gray-50 border-t text-sm">
                        <div class="mb-6">
                            <h4 class="font-semibold text-gray-800 mb-2">é—®é¢˜è¯¦æƒ…</h4>
                            <p class="text-gray-600">${problem.details}</p>
                            <div class="mt-3 p-3 rounded-md bg-gray-100 border border-gray-200">
                                <strong class="text-gray-700">æœŸæœ›çŠ¶æ€ï¼š</strong>
                                <span class="text-gray-600">${problem.expectedState || 'N/A'}</span>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="font-semibold text-gray-800 mb-2">å½±å“åˆ†æ</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-orange-50 border border-orange-200 p-3 rounded-md">
                                    <strong class="text-orange-700">æŠ€æœ¯å½±å“:</strong>
                                    <p class="text-gray-600 mt-1">${problem.technicalImpact}</p>
                                </div>
                                <div class="bg-red-50 border border-red-200 p-3 rounded-md">
                                    <strong class="text-red-700">æ—¶é—´å½±å“:</strong>
                                    <p class="text-gray-600 mt-1">${problem.timeImpact}</p>
                                </div>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="font-semibold text-gray-800 mb-2">æ”¹è¿›æ–¹æ¡ˆ</h4>
                            <div class="p-4 rounded-md bg-blue-50 border border-blue-200">
                                <ul class="space-y-2 list-disc list-inside text-gray-800">
                                    <li><strong class="font-semibold">ç«‹å³è¡ŒåŠ¨:</strong> ${problem.immediateAction}</li>
                                    <li><strong class="font-semibold">å…·ä½“ä¿®æ”¹:</strong> ${problem.specificChanges}</li>
                                    <li><strong class="font-semibold">éªŒè¯æ–¹æ³•:</strong> ${problem.verificationMethod}</li>
                                </ul>
                            </div>
                        </div>

                        <div class="mt-8 pt-6 border-t border-gray-200 flex justify-center">
                            <a href="#" class="inline-flex items-center gap-2 px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                </svg>
                                æŸ¥çœ‹å®Œæ•´PRDå¯¹åº”ç« èŠ‚
                            </a>
                        </div>
                    </div>
                </details>
                `;
            }).join('');
        }

        // Render Chapters Tab
        function renderChapterTable() {
            const tableBody = document.getElementById('chapters-table-body');
            tableBody.innerHTML = reportData.chapters.map(chapter => {
                const hasProblems = chapter.problems.length > 0;
                let resultHtml, mainProblemsHtml, highestSeverityHtml;

                if (hasProblems) {
                    mainProblemsHtml = `<div class="space-y-2">` + chapter.problems.map(pId => {
                        const problem = reportData.problems[pId];
                        return `<div><a href="#${pId}" class="text-blue-600 hover:underline text-sm font-medium view-problem-link" data-problem-id="${pId}">[${pId}] ${problem.title}</a></div>`;
                    }).join('') + `</div>`;

                    const highestSeverityProblem = chapter.problems
                        .map(pId => reportData.problems[pId])
                        .reduce((prev, current) => (severityMap[prev.severity].order < severityMap[current.severity].order) ? prev : current);
                    
                    const severityInfo = severityMap[highestSeverityProblem.severity];
                    highestSeverityHtml = `<span class="font-medium severity-${severityInfo.name} text-severity">${severityInfo.icon} ${highestSeverityProblem.severity}</span>`;

                    const isFail = chapter.problems.some(pId => ['ä¸¥é‡', 'é‡è¦'].includes(reportData.problems[pId].severity));
                    resultHtml = isFail 
                        ? `<span class="px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700">âŒ ä¸é€šè¿‡</span>` 
                        : `<span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700">âœ… é€šè¿‡</span>`;
                } else {
                    mainProblemsHtml = 'â€”';
                    highestSeverityHtml = 'â€”';
                    resultHtml = `<span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700">âœ… é€šè¿‡</span>`;
                }

                return `
                    <tr class="border-b" data-chapter-name="${chapter.name}">
                        <td class="px-6 py-4 font-semibold align-top">${chapter.name}</td>
                        <td class="px-6 py-4 align-top">${mainProblemsHtml}</td>
                        <td class="px-6 py-4 align-top">${highestSeverityHtml}</td>
                        <td class="px-6 py-4 align-top">${resultHtml}</td>
                    </tr>
                `;
            }).join('');
        }

        // --- TAB LOGIC & EVENT LISTENERS ---
        const tabNav = document.getElementById('tab-nav');
        const tabContents = document.querySelectorAll('.tab-content');

        tabNav.addEventListener('click', (e) => {
            const button = e.target.closest('button.tab-btn');
            if (!button) return;

            // Update button styles
            tabNav.querySelector('.active').classList.remove('active');
            button.classList.add('active');

            // Update content visibility
            const tabId = button.dataset.tab;
            tabContents.forEach(content => {
                content.classList.toggle('active', content.id === `tab-${tabId}`);
            });
        });

        // Logic to handle problem links in chapter table
        document.getElementById('chapters-table-body').addEventListener('click', (e) => {
            const link = e.target.closest('a.view-problem-link');
            if (link && link.dataset.problemId) {
                e.preventDefault();
                const problemId = link.dataset.problemId;
                
                tabNav.querySelector('[data-tab="tasks"]').click();

                setTimeout(() => {
                    const problemElement = document.getElementById(problemId);
                    if (problemElement) {
                        problemElement.open = true;
                        problemElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        problemElement.classList.add('highlight');
                        setTimeout(() => {
                            problemElement.classList.remove('highlight');
                        }, 3000);
                    }
                }, 100);
            }
        });

        // Logic to handle chapter links in problem list
        document.getElementById('problem-list').addEventListener('click', (e) => {
            const link = e.target.closest('a.view-chapter-link');
            if (link && link.dataset.chapterName) {
                e.preventDefault();
                const chapterName = link.dataset.chapterName;

                tabNav.querySelector('[data-tab="chapters"]').click();

                setTimeout(() => {
                    const chapterRow = document.querySelector(`#chapters-table-body tr[data-chapter-name="${chapterName}"]`);
                    if (chapterRow) {
                        chapterRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        chapterRow.style.backgroundColor = '#dbeafe';
                        setTimeout(() => {
                            chapterRow.style.backgroundColor = '';
                        }, 3000);
                    }
                }, 100);
            }
        });
        
        // Handle hash links from summary
        document.querySelector('.bg-red-50').addEventListener('click', (e) => {
             if (e.target.tagName === 'A') {
                 e.preventDefault();
                 const problemId = e.target.getAttribute('href').substring(1);
                 const problemElement = document.getElementById(problemId);
                 if (problemElement) {
                    problemElement.open = true;
                    problemElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                 }
             }
        });
        
        // Handle links in overview tab
        document.getElementById('tab-overview').addEventListener('click', (e) => {
            const link = e.target.closest('a.overview-link[data-target-tab]');
            if (link) {
                e.preventDefault();
                const tabId = link.dataset.targetTab;
                const tabButton = tabNav.querySelector(`[data-tab="${tabId}"]`);
                if (tabButton) {
                    tabButton.click();
                }
            }
        });

        // --- INITIAL RENDER ---
        renderProblemList();
        renderChapterTable();
    });
    </script>
</body>
</html>
